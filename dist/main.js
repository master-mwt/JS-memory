!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i=function(e){this.name=e,this.url=`img/${e}.jpg`};let r=["cats","chicken","computer","dory","hero","mwt","robot","rose","sun","tree"],o=function(){let e=Math.floor(Math.random()*r.length),t=r[e];return r.splice(e,1),new i(t)},d=function(e,t){for(let n in t)e.style[n]=t[n]},a=function(e){for(;e.hasChildNodes();)e.firstChild.remove()},c=function(e){return e>9?""+e:"0"+e},s=function(e){let t,n,i=function(){let i=new Date,r=new Date(i-n);t=r;let o=r.getMinutes(),d=r.getSeconds();e.innerText="Time: "+c(o)+":"+c(d)};this.start=function(){return n=new Date,i(),setInterval(i,1e3),n},this.stop=function(){return clearInterval(i),t}},u=function(e,t,n){let i;u.prototype.setStyle=d;let r=this,o=function(){if(this.attach=function(e){e.appendChild(i)},this.detach=function(){i.style.backgroundImage="none",this.setStyle(i,{backgroundColor:"white","box-shadow":"0px 0px 0px white"}),i.removeEventListener("mouseover",a),i.removeEventListener("mouseout",c),i.setAttribute("removed","removed")},this.chosen=function(){this.setBackgroundImage(this.frontCard),this.setStyle(i,{"box-shadow":"10px 10px 5px grey"}),i.removeEventListener("mouseover",a),i.removeEventListener("mouseout",c)},this.reject=function(){this.setBackgroundImage(this.backCard),this.setStyle(i,{"box-shadow":"0px 0px 0px white"}),i.addEventListener("mouseover",a,!1),i.addEventListener("mouseout",c,!1)},this.setImages=function(e,t){i.setAttribute("cardimage",e.name),this.frontCard=e,this.backCard=t,this.setBackgroundImage(t)},this.setBackgroundImage=function(e){i.style.backgroundImage=`url('${e.url}')`,i.style.backgroundSize="100% 100%",i.style.backgroundRepeat="no-repeat",i.backgroundPosition="center"},this.setId=function(e){this.id=e,i.setAttribute("id",this.id)},this.handleEvent=function(e,t){i.addEventListener(e,t.bind(null,r))},i=document.createElement("div"),this.setStyle(i,{height:"120px",width:"90px",display:"inline-block",margin:"5px",position:"relative"}),i.addEventListener("mouseover",a,!1),i.addEventListener("mouseout",c,!1),i.addEventListener("chosen",s,!1),i.addEventListener("reject",l,!1),!(e&&t&&n))throw"Missing required parameters";this.setId(e),this.setImages(t,n)}.bind(this),a=()=>{this.setStyle(i,{"box-shadow":"10px 10px 5px grey"})},c=()=>{this.setStyle(i,{"box-shadow":"0px 0px 0px white"})},s=()=>{this.chosen()},l=()=>{this.reject()};o()};var l=u;var m=function(e){let t=[],n=this;this.cardList=t,this.remaining=0,this.createCard=function(e,t,i){let r=new l(e,t,i);return this.cardList.push(r),this.remaining++,r.handleEvent("removeCard",(function(e){n.removeCard(e)})),r},this.removeCard=function(e){let n;for(let i in t)if(t[i]===e){n=i;break}this.cardList.splice(n,1),e.detach(),this.remaining--},this.append=function(t){t.attach(e)}};let p=()=>{location.reload()};var h=function(e){let t=document.querySelector("#context"),n=document.createElement("h1");n.appendChild(document.createTextNode("Congratulations!")),t.appendChild(n);let i=document.createElement("p");i.appendChild(document.createTextNode("You won in "+c(e.getMinutes())+":"+c(e.getSeconds()))),t.appendChild(i);let r=document.createElement("button");r.appendChild(document.createTextNode("Play again")),r.addEventListener("click",p,!1),t.appendChild(r)};var f=function(e){let t=function(e){let t=0,n=new i("backcard");for(;t<e;){let e=o();C.createCard("card"+t,e,n),C.createCard("card"+(t+1),e,n),t+=2}let r=function(e){let t,n,i=e,r=i.length;for(let e=0;e<r-1;e++)t=Math.floor(Math.random()*(r-e)+e),n=i[e],i[e]=i[t],i[t]=n;return i}(C.cardList);for(let e of r)C.append(e)},n=e=>{let t=e.target.getAttribute("id");t&&t.includes("card")&&!e.target.getAttribute("removed")&&r(e.target)},r=function(e){if(g){if(!b){if(g===e)return;b=e,b.dispatchEvent(new Event("chosen")),g.getAttribute("cardimage")===b.getAttribute("cardimage")?setTimeout(c,2e3):setTimeout(u,2e3)}}else g=e,g.dispatchEvent(new Event("chosen"))},c=function(){g.dispatchEvent(new Event("removeCard")),b.dispatchEvent(new Event("removeCard")),g=void 0,b=void 0,E.innerText="Remaining cards: "+C.remaining,0===C.remaining&&l()},u=function(){g.dispatchEvent(new Event("reject")),b.dispatchEvent(new Event("reject")),g=void 0,b=void 0},l=function(){let e=y.stop();p.removeEventListener("click",n),a(p),h(e)},p=document.getElementById("context"),f=document.createElement("div");f.setAttribute("id","table");let v=document.createElement("div");v.setAttribute("id","score");let g,b,E=document.createElement("p"),x=document.createElement("p");v.appendChild(E),v.appendChild(x),d(v,{position:"absolute",bottom:0,"text-align":"left","padding-left":"10px"}),p.appendChild(f),p.appendChild(v);let C=new m(f),y=new s(x);t(Number.parseInt(e)),E.innerText="Remaining cards: "+C.remaining,p.addEventListener("click",n,!1),y.start()};var v=function(){let e=function(t){let i=new FormData(t.target),r=Number(i.get("radioTable"));6!==r&&12!==r&&20!==r||(o.removeEventListener("submit",e),a(n),f(r)),t.preventDefault()},t=document.getElementById("root"),n=document.createElement("div");n.setAttribute("id","context");let i=document.createElement("h1");i.appendChild(document.createTextNode("Welcome to the Memory game!")),n.appendChild(i);let r=document.createElement("p");r.appendChild(document.createTextNode("Insert the number of cards")),n.appendChild(r);let o=document.createElement("form");o.setAttribute("method","post"),o.setAttribute("id","tableForm");let c=document.createElement("div");for(let e of[6,12,20]){let t=document.createElement("div"),n=document.createElement("input"),i=document.createElement("label");n.setAttribute("id","radioTable"+e),n.setAttribute("type","radio"),n.setAttribute("name","radioTable"),n.setAttribute("value",e.toString()),6===e&&n.setAttribute("checked","checked"),i.appendChild(document.createTextNode(e+" cards")),t.appendChild(n),t.appendChild(i),c.appendChild(t)}d(c,{"margin-bottom":"15px"}),o.appendChild(c);let s=document.createElement("div"),u=document.createElement("button");u.setAttribute("type","submit");let l=document.createTextNode("Play!");u.appendChild(l),s.appendChild(u),o.appendChild(s),o.addEventListener("submit",e,!1),n.appendChild(o),t.appendChild(n)};window.addEventListener("load",(function(){let e=document.getElementsByTagName("body")[0],t=document.createElement("div");t.setAttribute("id","root"),d(t,{margin:"auto",width:"50%",border:"3px solid red",padding:"150px 0","text-align":"center",position:"relative"}),e.appendChild(t),v()}),!1)}]);